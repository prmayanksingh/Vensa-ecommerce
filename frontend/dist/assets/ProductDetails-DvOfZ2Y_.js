import{r as w,q as N,i as x,e as b,u as k,j as e,m as C,L as u,y as i,k as P}from"./index-DsS3cLr8.js";import{a as q,b as A}from"./index-C70EgIj9.js";import{c as D}from"./index-D7GyNqBg.js";import{b as H}from"./ProductAction-DDtc2-Kd.js";import{d as L}from"./index-DeoC3yne.js";const I=()=>{const[a,l]=w.useState(1),{id:n}=N(),{products:d}=x(s=>s.productReducer),{users:r}=x(s=>s.userReducer),t=d?.find(s=>s.id===n),o=b(),p=k(),h=s=>{const c={...r,cart:[...r.cart]},m=c.cart.findIndex(v=>v.product.id==s);m==-1?c.cart.push({product:t,quantity:a}):c.cart[m]={product:t,quantity:c.cart[m].quantity+a},l(1),o(P(c.id,c)),i.success("Added to Cart!!")},g=()=>{l(a+1)},f=()=>{a>1&&l(a-1)},y=()=>{confirm("Are you sure want to delete the product?!")&&(o(H(n)),p("/products"),i.success("Product deleted!!"))},j=()=>{confirm("Confirm the order!!")&&i.success("Order Placed!!😁")};return e.jsxs(C.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}},exit:{opacity:0,y:10,transition:{duration:.3,ease:"easeIn"}},children:[e.jsx("div",{className:"flex py-[1.4em] px-[1.5em] md:px-[1.5em]",children:e.jsx("div",{className:"w-[10%] flex items-center justify-center",children:e.jsx(u,{to:-1,className:"text-[1em] px-[1.2em] py-[.25em] rounded text-white bg-gray-500",children:e.jsx(L,{})})})}),d?e.jsxs("div",{className:"lg:min-h-[calc(100vh-3.2rem)] flex flex-col lg:flex-row lg:justify-center p-[2em] sm:p-[3em] md:p-[3.5em] lg:px-[6em] lg:p-[2.2em] pt-[1em] sm:pt-[1.5em] md:pt-[1.5em] lg:pt-[.8em] text-[clamp(10px,3.7vw,15px] sm:text-[clamp(10px,2.2vw,16px)] md:text-[clamp(10px,1.9vw,17px)] lg:text-[16px] gap-[0.7em] lg:gap-[4em]",children:[e.jsx("div",{className:"w-full h-[20em] rounded sm:h-[36em] md:h-[40em] lg:h-[38vw] lg:w-[40%]",children:e.jsx("img",{className:"h-full w-full object-cover object-center rounded",src:t?.image,alt:t?.title||"Product image",width:"640",height:"640",loading:"eager",fetchPriority:"high",decoding:"async"})}),e.jsxs("div",{className:"lg:w-[50%] p-2 flex flex-col gap-[.4em] lg:gap-[.4em]",children:[e.jsx("h1",{className:"text-[1.3em] md:text-[1.5em] lg:text-[2.2em] font-bold",children:t?.name}),e.jsxs("div",{className:"w-full flex lg:flex-col-reverse justify-between lg:gap-[.4em]",children:[e.jsx("h2",{className:"text-[1.1em]",children:t?.category}),e.jsx("h3",{className:"text-[1.2em] ml-[-.3em]",children:"⭐⭐⭐⭐⭐"})]}),e.jsxs("h2",{className:"self-start flex items-center text-[1em] lg:text-[1.4em] ml-[-.2em]",children:[e.jsx(D,{}),t?.price]}),e.jsxs("div",{className:"self-start w-fit px-2 py-1 my-[0.3em] lg:my-[0.6em] text-[1em] rounded flex items-center gap-[0.5em] outline",children:[e.jsx(q,{className:"active:scale-[85%]",onClick:f}),e.jsx("input",{readOnly:!0,value:a,className:"w-[2em] text-center",type:"text"}),e.jsx(A,{className:"active:scale-[85%]",onClick:g})]}),r?.isAdmin?e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-[1.1em] mt-[.4em]",children:[e.jsx(u,{to:`/admin/update-product/${t?.id}`,className:"h-[3em] w-full flex items-center justify-center rounded outline active:scale-[98%] hover:bg-gray-100",children:"Update"}),e.jsx("button",{onClick:y,className:"h-[3em] w-full rounded bg-black text-white active:scale-[98%] hover:bg-gray-700",children:"Delete"})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-[1.1em] mt-[.4em]",children:[e.jsx("button",{onClick:()=>h(t.id),className:"h-[3em] w-full flex items-center justify-center rounded outline active:scale-[98%] hover:bg-gray-100",children:"Add to cart"}),e.jsx("button",{onClick:j,className:"h-[3em] w-full rounded bg-black text-white active:scale-[98%] hover:bg-gray-700",children:"Buy Now"})]}),e.jsxs("div",{className:"flex flex-col gap-[0.2em] lg:gap-[0.3em] mt-[1.2em] lg:mt-[1.5em]",children:[e.jsx("h2",{className:"text-[1.2em] lg:text-[1.4em] font-bold",children:"Discription"}),e.jsx("h3",{className:"text-[1em] lg:text-[1.1em] lg:leading-[1.3em]",children:t?.description})]})]})]}):e.jsx("h1",{className:"text-center text-[1.5em] my-[2em]",children:"Loading..."})]})};export{I as default};
